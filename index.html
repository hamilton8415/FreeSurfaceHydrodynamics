<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FreeSurfaceHydrodynamics: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FreeSurfaceHydrodynamics
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">FreeSurfaceHydrodynamics Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> This is a library for computing the forces on a body in the presence of waves, and the resulting motions if desired. The theory is based upon linearied free-surface wave-body interactions and relies on hydrodynamic coefficients computed by other methods, usually a boundary element method solution performed by a program such as WAMIT.</p>
<h2><a class="anchor" id="autotoc_md0"></a>
How to build</h2>
<p>This library requires <code>Boost</code>, <code>Eigen3</code>, <code>gnuplot-iostream</code> and (if python bindings are desired) <code>pybind11</code>. Please ensure those are installed first.</p>
<p>To build the library and examples from source, in the top-level directory of the repository do the following: </p><div class="fragment"><div class="line">$ mkdir build</div>
<div class="line">$ cd build</div>
<div class="line">$ cmake ..</div>
<div class="line">$ make</div>
</div><!-- fragment --><p>By default, python bindings are built, but they can be turned on/off with the cmake flag <code>-DBUILD_PYTHON_BINDINGS=&lt;ON,OFF&gt;</code>. If <code>pybind11</code> is missing, the bindings will not be built.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Examples</h2>
<p>There are a number of example programs that exercise various portions of the library in an interactive way. The source for these is in the examples directory and can be run from the build directory as indicated below. Looking at the source code for these examples is a good way to understand the use of the library:</p>
<h4><a class="anchor" id="autotoc_md2"></a>
Incident Waves</h4>
<div class="fragment"><div class="line">$ ./IncidentWaveExamples</div>
</div><!-- fragment --><p> IncidentWaveExamples.cpp exercises the <a class="el" href="classLinearIncidentWave.html" title="The IncidentWave class generates wave heights and fluid velocities at specified points and times....">LinearIncidentWave</a> class by computing the wave elevation that represents specified wave. By default the wave is a monochromatic wave of Amplitude 1.0 meter, Period 12.0 seconds, Phase angle of zero degrees, and direction of 180 degrees (approaching from the positive x direction). These defaults can be over-ridden by the [-a], [-t], [-p], [-b] options respectively. The '-h' option provides some guidance. In every case, the resulting wave-elevation is plotted at the origin for a range of time, and then also spatially at a selection of time-snapshots.</p>
<h4><a class="anchor" id="autotoc_md3"></a>
Hydrodynamic Coefficients</h4>
<div class="fragment"><div class="line">$ ./PlotCoeffsExample</div>
</div><!-- fragment --><p> PlotCoeffsExample.cpp uses the <a class="el" href="classFS__HydroDynamics.html">FS_HydroDynamics</a> class to read and plot all of the non-zero hydrodynamic coefficients from the included WAMIT output files for the wave-radiation and wave-exciting forces. The WAMIT data contains these in both the frequency domain (plotted as a function of frequency), and time-domain (plotted as impulse-response functions). These hydrodynamic coefficients define the forces computed in the other examples.</p>
<h4><a class="anchor" id="autotoc_md4"></a>
Buoyancy Forces</h4>
<div class="fragment"><div class="line">$ ./BuoyancyForceExample</div>
</div><!-- fragment --><p>BuoyancyForceExample.cpp uses the <a class="el" href="classFS__HydroDynamics.html">FS_HydroDynamics</a> class to compute the hydrostatic force and moments on the buoy in various orientations. the [-a] option can be used to adjust the range of motion. Options for period and phase do not exist because the resulting and forces and moment are static so the rates of change do not matter. Use the [-h] option for more details.</p>
<h4><a class="anchor" id="autotoc_md5"></a>
Gravity Forces</h4>
<div class="fragment"><div class="line">$ ./GravityForceExample</div>
</div><!-- fragment --><p> GravityForceExample.cpp uses the <a class="el" href="classFS__HydroDynamics.html">FS_HydroDynamics</a> class to compute the force and moments due to gravity on the buoy in various orientations. the [-a] option can be used to adjust the range of motion. Options for period and phase do not exist because the resulting and forces and moment are static so the rates of change do not matter. Use the [-h] option for more details.</p>
<h4><a class="anchor" id="autotoc_md6"></a>
Wave Radiation Forces</h4>
<div class="fragment"><div class="line">$ ./RadiationForceExample</div>
</div><!-- fragment --><p> RadiationForceExample.cpp uses the <a class="el" href="classFS__HydroDynamics.html">FS_HydroDynamics</a> class to compute and plot all non-zero radiation forces computed from the hydrodynamic coefficients for a prescribed sinesoidal motion in each of six degrees of freedom. These radiation forces are computed both in the frequency domain (which assumes the body has been oscillating forever), and also in the time-domain by convolving the motion with the impulse rsponse function. In the time domain, the body starts from rest and after some small nunber of cycles the transients at the start of the time-domain simulations should die out and the time-domain and frequency domain results should match. Slight differences are due to numerical inaccuracies and may be larger or smaller depending on the frequency of the prescribed motion. A default motion amplitude, period, and phase are used, but these can be changed with the [-atp] options. <br  />
 Use the [-h] option for more details.</p>
<h4><a class="anchor" id="autotoc_md7"></a>
Wave Exciting Forces</h4>
<div class="fragment"><div class="line">$ ./ExcitingForceExample</div>
</div><!-- fragment --><p> ExcitingForceExample.cpp uses both the <a class="el" href="classFS__HydroDynamics.html">FS_HydroDynamics</a> and <a class="el" href="classLinearIncidentWave.html" title="The IncidentWave class generates wave heights and fluid velocities at specified points and times....">LinearIncidentWave</a> class to compute and plot wave-exciting force for each of six degrees of freedom for a single frequency and single-direction incoming wave. Again these are computed in both the time- and frequency-domain, and should match closely. The transient at the start is not present here because the wave-exciting force computation in the time-domain includes a convolution of the impulse response function over previous times. A default incident wave amplitude, period, phase, and direction are used, but these can be changed with the [-atpb] options. Use the [-h] option for more details.</p>
<h4><a class="anchor" id="autotoc_md8"></a>
Floating Body Motions</h4>
<div class="fragment"><div class="line">$ ./MotionExample</div>
</div><!-- fragment --><p> MotionExample.cpp uses both the <a class="el" href="classFS__HydroDynamics.html">FS_HydroDynamics</a> and <a class="el" href="classLinearIncidentWave.html" title="The IncidentWave class generates wave heights and fluid velocities at specified points and times....">LinearIncidentWave</a> class to compute and plot the resulting sinesoidal motion excited by an incoming monochromatic wave. This is accomplished by solving the differential equations of motion for the floating body subject to all of the above forces (buoyancy, gravity, wave-radiation, ane wave-exciting). Based on the frequency domain hydrodynamic coefficients these results are computed as Response Amplitude Operators that indicate the bodies motion amplitude and phase relative to the amplitude and phase of the incoming wave. These results are also computed in the time-domain and compared to the frequency domain results. Again these should match after the transients that result from the time-domain initial condition being zero speed at time equal zero. A default incident wave amplitude, period, phase, and direction are used, but these can be changed with the [-atpb] options. Use the [-h] option for more details.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
How to install</h2>
<p>The library can be installed locally after building from source by exectuing the following from the build directory: </p><div class="fragment"><div class="line">$ sudo make install</div>
</div><!-- fragment --><p>Alternatively, debians of the most recent release are maintained and can be installed after updating apt with the appropriate ppa</p>
<div class="fragment"><div class="line">$ curl -s --compressed &quot;https://hamilton8415.github.io/ppa/KEY.gpg&quot; | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/ppa.gpg &gt;/dev/null</div>
<div class="line">$ sudo curl -s --compressed -o /etc/apt/sources.list.d/my_list_file.list &quot;https://hamilton8415.github.io/ppa/my_list_file.list&quot;</div>
<div class="line">$ sudo apt update</div>
<div class="line">$ sudo apt install libfshydrodynamics</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md10"></a>
How to use in another project using CMake</h2>
<p>After installing by either of the above methods, include the following lines in the CMakeLists.txt file: </p><div class="fragment"><div class="line">find_package(FreeSurfaceHydrodynamics REQUIRED)</div>
<div class="line">add_executable(YourProgram YourProgram.cpp)</div>
<div class="line">target_link_libraries(YourProgram FreeSurfaceHydrodynamics)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md11"></a>
Current limitations</h2>
<p>Currently, this library has a number of limitations that may be addressed in future releases.</p><ul>
<li>Single Wave Direction: At this time only long-crestline waves from a single-direction can be included. Adding additional directions through superposition is a straightforward addition, but computational time for wave-exciting forces will grow linearly with the number of directions included.</li>
<li>Hydrodynamic Coefficient Data: At this time only WAMIT output files can be read to supply the needed hydrodynamic coefficients. Further, only the *.1, *.3 files can be read for frequency domain data are supported, and *_IR.1 and *_JR.3 files for the time-domain impulse response function. Of course, the information between the frequency-domain and time-domain is redundant and it is possible to compute the needed impulse-response functions from the frequency domain data. This is not done at this time, instead relying on the f2t utility that is part of WAMIT.</li>
<li>Axi-symmetric bodies: This library is currently most useful for axi-symmetric bodies, with this assumption the wave-exciting forces can be computed from a single wave-direction result from the Boundary-Element-Solver (WAMIT), regardless of body orientation in space. Facilities to read-in hydrodynamic coefficients for more than one wave-direction are not present and would be needed to evaluate the wave-exciting forces on non axi-symmetric bodies of arbitrary orientation.</li>
</ul>
<h2><a class="anchor" id="autotoc_md12"></a>
Source Code Documentation</h2>
<p>Doxygen generated documentation can be viewed here: <a href="https://hamilton8415.github.io/FreeSurfaceHydrodynamics/">https://hamilton8415.github.io/FreeSurfaceHydrodynamics/</a></p>
<h2><a class="anchor" id="autotoc_md13"></a>
Python Bindings</h2>
<p>By default, the python bindings are built, but they can be turned on/off with the cmake flag <code>-DBUILD_PYTHON_BINDINGS=&lt;ON,OFF&gt;</code>.</p>
<p>Please refer to fshd_py/README.md for instructions/examples. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
